<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vasopressor & Inotrope Supply Calculator - HSgB</title>
    <link rel="icon" type="image/png" href="../assets/images/Logo_HSB_HQ.png">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../assets/css/styles.css">
</head>
<body>

<div class="header" onclick="window.location.href='../index.html'" role="banner">
    <div class="header-left">
        <div class="logo-container">
            <img src="../assets/images/Logo_HSB_HQ.png" alt="Hospital Sungai Buloh Logo" class="logo-img">
            <img src="../assets/images/Pharmacy_NEW_LOGO_1removebgpreview.png" alt="Pharmacy Department Logo" class="logo-pharmacy">
        </div>
        <div class="header-text">
            <h1>HSgB Pharmacy Calculator</h1>
            <p>Pharmacy Oncall Survival Kit - Quick dosing calculator & guide for Hosp Sungai Buloh staff</p>
        </div>
    </div>
</div>

<div class="container" role="main">
    <div class="navigation">
        <button class="nav-button-home" onclick="goHome()">HOME</button>
        <button class="nav-button" onclick="clearForm()">CLEAR</button>
    </div>
    
    <h2>Vasopressor & Inotrope Supply Calculator</h2>
    
    <div class="form-group">
        <label for="vaso-drug">Drug Name</label>
        <select id="vaso-drug" onchange="updateVasoUI()" aria-required="true">
            <option value="">Select a Drug</option>
            <option value="noradrenaline">Noradrenaline (NA)</option>
            <option value="dopamine">Dopamine</option>
            <option value="dobutamine">Dobutamine</option>
            <option value="adrenaline">Adrenaline (Epinephrine)</option>
            <option value="vasopressin">Vasopressin</option>
        </select>
        <p id="vaso-strength-footnote" class="footnote"></p>
    </div>
    
    <div class="form-group" id="vaso-rate-group">
        <label for="vaso-rate">Infusion Rate (mL/hour)</label>
        <input type="number" id="vaso-rate" oninput="calculateVasoSupply()" aria-required="true" step="0.1" min="0">
    </div>
    
    <div class="form-group" id="vaso-rate-vasopressin-group" style="display:none;">
        <label>Infusion Rate Type</label>
        <div style="display: flex; gap: 10px; margin-bottom: 10px;">
            <button type="button" id="rate-type-units" onclick="selectRateType('units')" style="flex: 1; padding: 10px; border: 2px solid #1565C0; border-radius: 8px; background: #1565C0; color: white; font-weight: 600; cursor: pointer; transition: all 0.3s;">
                units/min
            </button>
            <button type="button" id="rate-type-ml" onclick="selectRateType('ml')" style="flex: 1; padding: 10px; border: 2px solid #ccc; border-radius: 8px; background: white; color: #666; font-weight: 600; cursor: pointer; transition: all 0.3s;">
                mL/hr
            </button>
        </div>
        <label for="vaso-rate-vasopressin" id="vaso-rate-label">Infusion Rate (units/min)</label>
        <input type="number" id="vaso-rate-vasopressin" value="0.03" oninput="calculateVasoSupply()" aria-required="true" step="0.01" min="0">
        <p class="footnote">Adjust if necessary</p>
    </div>
    
    <div class="form-group" id="vaso-strength-prep-group">
        <label for="vaso-strength-prep">Strength of preparation</label>
        <select id="vaso-strength-prep" onchange="calculateVasoSupply()" aria-required="true">
            <option value="">Select Strength</option>
            <option value="single">Single strength (SS)</option>
            <option value="double">Double strength (DS)</option>
        </select>
    </div>
    
    <div class="form-group" id="vaso-vasopressin-strength-group" style="display:none;">
        <label for="vaso-vasopressin-units">Strength of preparation</label>
        <div style="display: flex; gap: 10px; align-items: center;">
            <input type="number" id="vaso-vasopressin-units" value="20" oninput="calculateVasoSupply()" style="width: 100px;" step="1" min="0">
            <span style="font-weight: 500;">U in</span>
            <input type="number" id="vaso-vasopressin-ml" value="20" oninput="calculateVasoSupply()" style="width: 100px;" step="1" min="0">
            <span style="font-weight: 500;">mL diluents</span>
        </div>
        <p class="footnote">Adjust if necessary (default: 20 U in 20 mL)</p>
    </div>
    
    <div class="form-group">
        <label for="vaso-duration">Duration (hours)</label>
        <input type="number" id="vaso-duration" value="24" oninput="calculateVasoSupply()" step="1" min="0">
        <p class="footnote">Adjust if necessary (default: 24 hours)</p>
    </div>
    
    <div class="form-group" id="vaso-diluent-group">
        <label for="vaso-diluent">Volume of diluents per preparation (mL)</label>
        <input type="number" id="vaso-diluent" value="50" oninput="calculateVasoSupply()" step="1" min="0">
        <p class="footnote">Adjust if necessary (default: 50 mL)</p>
    </div>
    
    <div id="vaso-outputs" style="display:none;">
        <h3 id="vaso-results-heading">Results</h3>
        
        <div class="sub-output-card" style="background: linear-gradient(to bottom, #F4F4F4, var(--white)); padding: 12px 15px; border: none;">
            <div class="sub-output-title" style="font-size: 0.9em; color: #666; margin-bottom: 6px;">Summary of Input</div>
            <div class="sub-output-value" id="vaso-summary" style="font-size: 0.85em; font-weight: 500; color: #1a237e;"></div>
        </div>
        
        <div class="sub-output-card" style="background: linear-gradient(to bottom, #F4F4F4, var(--white)); padding: 12px 15px; border: none;">
            <div class="sub-output-title" style="font-size: 0.9em; color: #666; margin-bottom: 6px;">Preparation</div>
            <div class="sub-output-value" id="vaso-preparation" style="font-size: 0.85em; font-weight: 500; color: #1a237e;"></div>
        </div>
        
        <div class="output-box-cream">
            <div class="output-title">Quantity to supply:</div>
            <div class="output-value" id="vaso-quantity"></div>
        </div>
    </div>

    <p class="footer-formula">
        <b>Quantity to supply:</b> (Infusion rate (mL/hour) x Duration (hours) x Strength of preparation) / Volume of diluents (mL)<br>
        *Strength of preparation is 1 for SS, 2 for DS.
    </p>
</div>

<script src="../assets/js/common.js"></script>
<script src="../assets/js/vasopressor.js"></script>

</body>
</html>
